ZUser_bot
---

**19 апреля 2025 года**

**Я отказался от OpenRouter'a для text2text и img2text в пользу HuggingFace (Провайдер ``fireworks-ai``)**

**Провайдера при желании можно сменить в конфиге**

**Таким же образом я отказался от Кандинского в пользу MonsterAPI**


## Установка и настройка

**По классике**
```sh
git clone https://github.com/ZProger378/zuser_bot.git
```
```sh
cd zuser_bot
```

### Запуск:
1. Установите необходимые зависимости:
   ```sh
   pip3 install -r requirements.txt
   ```
2. Откройте файл `config.ini.example` и настройте

    **``[pyrogram]``** - ``api_hash``, ``api_id`` - получаем в <https://my.telegram.org/apps>
    
    **``[TeleBot]``** - ``bot_token`` получаем у БотаБати, надеюсь ничего трудного в этом нет (бот будет панелью настроек для юзер-бота, там можно настроить анимации, по необходимости сменять модели)
    
    **``[HuggingFace]``** - ``api_key`` получаем в <https://huggingface.co/settings/tokens> (**Обязательно при создании токена нажать на все галки в разделе ``Inference``**)

    **``[MonsterAPI]``** - ``api_key`` - получаем в <https://monsterapi.ai/user/dashboard>
    
    **``[imgBB]``** - ``api_key`` получаем в <https://api.imgbb.com/>. ImgBB нужен для загрузки картинок в облако для дальнейшей отправки в нейросеть

    **Немного информации про ``provider`` ``HuggingFace``**
    
    ``provider`` установлен по умолчанию и все модели в ``settings.json``, доступны у провайдера по умолчанию. Но если **вы сами разберетесь** с api HuggingFace'a, **только тогда следует менять** провайдера в ``config.ini``.

3. После настройки переименуйте `config.ini.example` -> `config.ini` 
4. Запустите бота:
   ```sh
   python3 main.py
   ```
   При первом запуске будет необходимо авторизоваться

   Если все работает, запустите панель
   ```sh
   python3 bot_callback.py
   ```
   После чего можете запустить бота, токен которого вы прописали в конфиге в разделе ``TeleBot``


## Функции

### 1. ChatBot
**Команды:** `/chatbot`, `/ai`, `/ии`, `/чатбот`

**Пример**: `/ии Кто такой Роберт Оппенгеймер?`

Отправляет сообщение нейросети и получает ответ. Поддерживает текстовые сообщения и изображения.

![Результат](https://i.ibb.co/8LKrCxVP/image.png)

---

### 2. Генерация изображений (Kandinsky)
**Команды:** `/img`, `/gen`, `/сгенерировать`, `/изображение`, `/картинка`

**Пример**: `/img beautiful red-hairs girl`

Генерирует изображение с помощью MonsterAPI.

![Результат](https://i.ibb.co/XZkNRdZd/image.png)

---

### 3. Анимация
**Команды:** `/1111`

Отображает анимацию с самолетом.

![Результат](https://i.ibb.co/1t8DBt43/image.png)
---

### 4. Анимация сердца
**Команды:** `/love`, `/люблю`

Отображает анимированное сердечко в сообщении.

![Результат](https://i.ibb.co/Q7PNKv6f/1321373317-1.gif)

---

### 5. Получение информации о сообщении
**Команды:** `/info`, `/инфа`

Выдает информацию о сообщении: ID чата, ID пользователя, ID сообщения, количество слов, абзацев, символов.

![Результат](https://i.ibb.co/R4MRdJ0R/image.png)

---

### 6. Статистика сообщений
**Команды:** `/statistic`, `/статистика`, `/стата`

Анализирует историю сообщений, подсчитывает количество слов, составляет статистику популярных слов и показывает количество матов в процентах (``количество матов / количество других слов * 100``%)

**Внимание: НЕ ЮЗАТЬ В КРУПНЫХ ЧАТАХ.**

Функция отрабатывает долго. Чат с 20к сообщениям >5 минут переваривает
